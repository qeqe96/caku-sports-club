(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{1183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(5155),l=r(4163);function s(){return(0,a.jsx)(l.A,{title:"Duyurular",apiEndpoint:"announcements",fields:[{name:"title",label:"Başlık",type:"text",required:!0,placeholder:"Duyuru başlığı"},{name:"category",label:"Kategori",type:"select",required:!0,options:[{value:"spor",label:"Spor"},{value:"e-spor",label:"E-Spor"}]},{name:"date",label:"Tarih",type:"text",required:!0,placeholder:"2026-02-10T14:00:00"},{name:"summary",label:"\xd6zet",type:"textarea",required:!0,placeholder:"Duyuru \xf6zeti"},{name:"pinned",label:"Sabitlenmiş",type:"checkbox"}],displayColumns:[{key:"title",label:"Başlık"},{key:"category",label:"Kategori"},{key:"date",label:"Tarih"},{key:"pinned",label:"Sabit",render:e=>e?"\uD83D\uDCCC Evet":"Hayır"}]})}},4163:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155),l=r(2115);function s(e){let{title:t,apiEndpoint:r,fields:s,displayColumns:n}=e,[i,d]=(0,l.useState)([]),[o,c]=(0,l.useState)(!0),[x,u]=(0,l.useState)(!1),[m,p]=(0,l.useState)(null),[b,h]=(0,l.useState)({}),[y,f]=(0,l.useState)(null),[g,j]=(0,l.useState)(!1),v=(0,l.useCallback)(async()=>{try{let e=await fetch("/api/admin/".concat(r)),t=await e.json();d(t)}catch(e){console.error("Veri y\xfcklenemedi")}finally{c(!1)}},[r]);(0,l.useEffect)(()=>{v()},[v]);let k=async e=>{e.preventDefault(),j(!0);try{let e=m?"/api/admin/".concat(r,"/").concat(m.id):"/api/admin/".concat(r),t=m?"PUT":"POST";(await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok&&(u(!1),v())}catch(e){console.error("Kaydetme hatası")}finally{j(!1)}},N=async e=>{try{(await fetch("/api/admin/".concat(r,"/").concat(e),{method:"DELETE"})).ok&&(f(null),v())}catch(e){console.error("Silme hatası")}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:t}),(0,a.jsx)("button",{onClick:()=>{p(null);let e={};s.forEach(t=>{e[t.name]="checkbox"!==t.type&&("number"===t.type?0:"")}),h(e),u(!0)},className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#FF4500] to-[#FF6B2C] text-white font-medium text-sm hover:opacity-90 transition-opacity",children:"+ Yeni Ekle"})]}),o?(0,a.jsx)("div",{className:"text-muted text-center py-12",children:"Y\xfckleniyor..."}):0===i.length?(0,a.jsx)("div",{className:"text-muted text-center py-12",children:"Hen\xfcz kayıt yok"}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-card-border",children:[(0,a.jsx)("th",{className:"text-left text-xs font-medium text-muted uppercase tracking-wider py-3 px-4",children:"ID"}),n.map(e=>(0,a.jsx)("th",{className:"text-left text-xs font-medium text-muted uppercase tracking-wider py-3 px-4",children:e.label},e.key)),(0,a.jsx)("th",{className:"text-right text-xs font-medium text-muted uppercase tracking-wider py-3 px-4",children:"İşlemler"})]})}),(0,a.jsx)("tbody",{children:i.map(e=>(0,a.jsxs)("tr",{className:"border-b border-card-border/50 hover:bg-surface/50 transition-colors",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-sm text-muted",children:e.id}),n.map(t=>(0,a.jsx)("td",{className:"py-3 px-4 text-sm text-white",children:t.render?t.render(e[t.key],e):null!==e[t.key]&&void 0!==e[t.key]?String(e[t.key]):"-"},t.key)),(0,a.jsx)("td",{className:"py-3 px-4 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>(e=>{p(e);let t={};s.forEach(r=>{var a;t[r.name]=null!=(a=e[r.name])?a:"checkbox"!==r.type&&("number"===r.type?0:"")}),h(t),u(!0)})(e),className:"px-3 py-1.5 text-xs rounded-md bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 transition-colors",children:"D\xfczenle"}),(0,a.jsx)("button",{onClick:()=>f(e.id),className:"px-3 py-1.5 text-xs rounded-md bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-colors",children:"Sil"})]})})]},e.id))})]})}),x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-card-bg border border-card-border rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-card-border flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-white",children:m?"D\xfczenle":"Yeni Ekle"}),(0,a.jsx)("button",{onClick:()=>u(!1),className:"text-muted hover:text-white transition-colors",children:"✕"})]}),(0,a.jsxs)("form",{onSubmit:k,className:"p-6 space-y-4",children:[s.map(e=>{var t,r;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-muted mb-1.5",children:[e.label,e.required&&(0,a.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),"textarea"===e.type?(0,a.jsx)("textarea",{value:b[e.name]||"",onChange:t=>h({...b,[e.name]:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-surface border border-card-border text-white text-sm focus:outline-none focus:border-[#FF4500] transition-colors resize-y min-h-[80px]",placeholder:e.placeholder,required:e.required}):"select"===e.type?(0,a.jsxs)("select",{value:b[e.name]||"",onChange:t=>h({...b,[e.name]:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-surface border border-card-border text-white text-sm focus:outline-none focus:border-[#FF4500] transition-colors",required:e.required,children:[(0,a.jsx)("option",{value:"",children:"Se\xe7iniz"}),null==(t=e.options)?void 0:t.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}):"checkbox"===e.type?(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:b[e.name]||!1,onChange:t=>h({...b,[e.name]:t.target.checked}),className:"w-4 h-4 rounded border-card-border bg-surface accent-[#FF4500]"}),(0,a.jsx)("span",{className:"text-sm text-white",children:"Evet"})]}):(0,a.jsx)("input",{type:e.type,value:null!=(r=b[e.name])?r:"",onChange:t=>h({...b,[e.name]:"number"===e.type?parseInt(t.target.value)||0:t.target.value}),className:"w-full px-3 py-2 rounded-lg bg-surface border border-card-border text-white text-sm focus:outline-none focus:border-[#FF4500] transition-colors",placeholder:e.placeholder,required:e.required})]},e.name)}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 rounded-lg border border-card-border text-muted hover:text-white text-sm transition-colors",children:"İptal"}),(0,a.jsx)("button",{type:"submit",disabled:g,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#FF4500] to-[#FF6B2C] text-white font-medium text-sm hover:opacity-90 transition-opacity disabled:opacity-50",children:g?"Kaydediliyor...":"Kaydet"})]})]})]})}),null!==y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-card-bg border border-card-border rounded-xl p-6 w-full max-w-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Silme Onayı"}),(0,a.jsx)("p",{className:"text-muted text-sm mb-6",children:"Bu kaydı silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>f(null),className:"px-4 py-2 rounded-lg border border-card-border text-muted hover:text-white text-sm transition-colors",children:"İptal"}),(0,a.jsx)("button",{onClick:()=>N(y),className:"px-4 py-2 rounded-lg bg-red-500 text-white font-medium text-sm hover:bg-red-600 transition-colors",children:"Sil"})]})]})})]})}},5691:(e,t,r)=>{Promise.resolve().then(r.bind(r,1183))}},e=>{e.O(0,[441,255,977],()=>e(e.s=5691)),_N_E=e.O()}]);